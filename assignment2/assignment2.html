<!doctype html>
<html>
<head>
	<title>Assignment Two</title>
	<link rel="stylesheet" href="styles.css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
</head>
<body>


<div class="slideshow" id="firstslides">
	<p id="accordion1d"></p>
	<img src="" id="accordion1" class="0 main">
	<img src="icons/prev.gif" class="prev" />
	<img src="icons/next.gif" class="next" />
	<img src="icons/close.gif" class="close" />
</div><br />


<div class="slideshow" id="secondslides">
	<p id="accordion2d"></p>
	<img src="" id="accordion2" class="0 main">
	<img src="icons/prev.gif" class="prev" />
	<img src="icons/next.gif" class="next" />
	<img src="icons/close.gif" class="close" />
</div>

<script language="javascript">
var foo = (function(){

	var imageNum = 1;
 	var totalImages = 1; 
 	
 	
var Slides = function(location,width,height,images,descriplocation,descriptions) {
	this.location = location;
	this.width = width;
	this.height = height;
	this.images = images;
	this.descriplocation = descriplocation;
	this.descriptions = descriptions;
	document.getElementById(this.location).style.height = this.height;
	document.getElementById(this.location).style.height = this.width;
	document.getElementById(this.location).src = this.images[imageNum];
	document.getElementById(this.descriplocation).innerHTML += this.descriptions[imageNum];
	Slides.prototype.events();
}

Slides.prototype = {
	constructor: Slides,
	nextSlide: function(bigid,bignum) {
        var imageNum = (bignum+1) % totalImages;
        if (bigid == "firstslides") {
       		 $('#firstslides').children('img').eq(0).attr('src', firstslides.images[imageNum]);
       		 $('#firstslides').children('p').text(firstslides.descriptions[imageNum]);
      	    }
       else if (bigid == "secondslides") {
      		$('#secondslides').children('img').eq(0).attr('src', secondslides.images[imageNum]);
       	 	$('#secondslides').children('p').text(secondslides.descriptions[imageNum]);
    		}
        			},
	prevSlide: function(bigid,bignum) {
     	var imageNum = (bignum-1) % totalImages;
       	//not sure why this returns a typeerror
       	//console.log(bigid.images[imageNum]);
       	//so doing it this laborious way
       	if (bigid == "firstslides") {
       		//even here, if i put bigid as the selector below, it doesn't work. why is that?
       		 $('#firstslides').children('img').eq(0).attr('src', firstslides.images[imageNum]);
       		  $('#firstslides').children('img').eq(0).attr('class', imageNum + "main");
       		 $('#firstslides').children('p').text(firstslides.descriptions[imageNum]);
      	    }
       else if (bigid == "secondslides") {
      		$('#secondslides').children('img').eq(0).attr('src', secondslides.images[imageNum]);
       	 	$('#secondslides').children('p').text(secondslides.descriptions[imageNum]);
    		}
    	},
	
	hideDescrips: function(bigid) {
       	if (bigid == "firstslides") {
       		 $('#firstslides').children('p').text('');
      	    }
       else if (bigid == "secondslides") {
       	 	$('#secondslides').children('p').text('');
    		}
			},
	
	events: function() {
		var that = this;
		$('.prev').on('click',function() {
		    var parentid = $(this).parent('.slideshow').attr('id');
		    var thenum = $(this).prev('.main').attr('class').split(' ')[0];
			that.prevSlide(parentid,thenum);
		});
		$('.next').on('click', function() {
			 var parenttid = $(this).parent('.slideshow').attr('id');
			 //not sure why the below works in the "prev" function but is resulting in undefined below
		 	 var theenum = $(this).prev('.main').attr('class').split(' ')[0];
		 	that.nextSlide(parenttid,theenum);
		});
	$('.close').on('click', function() {
			 var parentid = $(this).parent('.slideshow').attr('id');
			 that.hideDescrips(parentid);
		});
	}	
};

var firstslides = new Slides ("accordion1","572px","400px",["photos/image1.jpg", "photos/image2.jpg"],"accordion1d",["flower one", "flower2"]);
var secondslides = new Slides ("accordion2","572px","400px",["images/image1.jpg", "images/image2.jpg"],"accordion2d",["jucy one", "jucy2"]);



})();
</script>


</body>

</html>